$(document).ready(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});var e=$("#steps-table").DataTable({responsive:!0,processing:!0,serverSide:!0,ajax:dataurl,columnDefs:[{width:"70px",targets:3}],columns:[{data:"strCounName",name:"strCounName"},{data:"application",name:"application",orderable:!1,searchable:!1},{data:"renewal",name:"renewal",orderable:!1,searchable:!1},{data:"action",name:"action",orderable:!1,searchable:!1}]});$("#add_steps").on("hide.bs.modal",function(){$("#frmSteps").parsley().destroy(),$("#frmSteps").trigger("reset")}),$("#btn-add").click(function(){$("#btn-save").val("add"),$("h4").text("Add Requirements"),$("#add_steps").modal("show")}),$("#btn-save").click(function(){if($("#frmSteps").parsley().destroy(),$("#frmSteps").parsley().isValid()){$("#btn-save").attr("disabled","disabled"),setTimeout(function(){$("#btn-save").removeAttr("disabled")},1e3);var a={councilor_id:$("#councilor_id").val(),strStepDesc:$("#strStepDesc").parsley("data-parsley-whitespace","squish").getValue(),type:$("#type").val()},t="POST",s="/admin/requirements";"update"==$("#btn-save").val()&&(t="PUT",s+="/"+id),$.ajax({type:t,url:s,data:a,dataType:"json",success:function(a){$("#add_steps").modal("hide"),e.draw(),swal({title:"Success!",text:"<center>Data Stored</center>",type:"success",timer:1e3,showConfirmButton:!1,html:!0})},error:function(e){$.notify({icon:"fa fa-warning",message:e.responseText.replace(/['"]+/g,"")},{type:"warning",z_index:2e3,delay:5e3})}})}})});