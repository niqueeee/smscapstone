$(document).ready(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#district-list").on("click",".open-modal",function(){var e=$(this).val();swal({title:"Are you sure?",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-success",confirmButtonText:"Accept",cancelButtonText:"Cancel",closeOnConfirm:!1,allowOutsideClick:!0,showLoaderOnConfirm:!0,closeOnCancel:!0},function(n){setTimeout(function(){n&&$.ajax({url:t+"/"+e,type:"PUT",success:function(t){if("Deleted"==t)refresh();else{var e="<div id=dp"+t.id+"><button class='btn btn-warning btn-xs back' value="+t.id+"><i class='fa fa-undo'></i> Undo</button></div>";$("#dp"+t.id).replaceWith(e),swal({title:"Accepted!",text:"<center>"+t.description+" is Accepted</center>",type:"success",timer:1e3,showConfirmButton:!1,html:!0})}},error:function(t){}})},500)})}),$("#district-list").on("click",".btn-delete",function(){var e=$(this).val();swal({title:"Are you sure?",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Decline",cancelButtonText:"Cancel",closeOnConfirm:!1,allowOutsideClick:!0,showLoaderOnConfirm:!0,closeOnCancel:!0},function(n){setTimeout(function(){n&&$.ajax({url:t+"/"+e,type:"DELETE",success:function(t){if("Deleted"==t)refresh();else{var e="<div id=dp"+t.id+"><button class='btn btn-warning btn-xs back' value="+t.id+"><i class='fa fa-undo'></i> Undo</button></div>";$("#dp"+t.id).replaceWith(e),swal({title:"Declined!",text:"<center>"+t.description+" is Declined</center>",type:"success",timer:1e3,showConfirmButton:!1,html:!0})}},error:function(t){}})},500)})}),$("#district-list").on("click",".back",function(){var e=$(this).val();$(this).attr("id");swal({title:"Are you sure?",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Undo",cancelButtonText:"Cancel",closeOnConfirm:!1,allowOutsideClick:!0,showLoaderOnConfirm:!0,closeOnCancel:!0},function(n){setTimeout(function(){n&&$.get(t+"/"+e+"/edit",function(t){var e="<div id=dp"+t.id+"><button class='btn btn-info btn-xs btn-view' value="+t.id+"><i class='fa fa-eye'></i> View</button> <button class='btn btn-success btn-xs btn-detail open-modal' value="+t.id+"><i class='fa fa-check'></i> Accept</button> <button class='btn btn-danger btn-xs btn-delete' value="+t.id+"><i class='fa fa-trash-o'></i> Decline</button></div>";$("#dp"+t.id).replaceWith(e),swal({title:"Undo!",text:"<center>"+t.description+" is Undo</center>",type:"success",timer:1e3,showConfirmButton:!1,html:!0})})},500)})});var t="/coordinator/achievements",e=$("#achievement-table").DataTable({processing:!0,serverSide:!0,columnDefs:[{width:"200px",targets:4},{width:"150px",targets:3}],ajax:{type:"POST",url:t,data:function(t){t.strUserFirstName=$("#strUserFirstName").val(),t.strUserMiddleName=$("#strUserMiddleName").val(),t.strUserLastName=$("#strUserLastName").val(),t.intDistID=$("#intDistID").val(),t.intCounID=$("#intCounID").val(),t.intBaraID=$("#intBaraID").val(),t.intBatcID=$("#intBatcID").val(),t.strPersStreet=$("#strPersStreet").val(),t.strPersReligion=$("#strPersReligion").val()}},columns:[{data:"strStudName",name:"strStudName"},{data:"description",name:"achievements.description"},{data:"place_held",name:"achievements.place_held"},{data:"date_held",name:"achievements.date_held"},{data:"action",name:"action",orderable:!1,searchable:!1}]});$("#btn-advSearch").on("click",function(t){e.draw(),t.preventDefault(),$("#frmAdv").trigger("reset"),$("#advanced_search").modal("hide")}),$("#advanced_search").on("hide.bs.modal",function(){$("#frmAdv").trigger("reset")}),$("#advsearch").click(function(){$("#advanced_search").modal("show")})});