$(document).ready(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#district-list").on("click",".open-modal",function(){if(confirm("Are you sure?")){var t=$(this).val();$.ajax({url:e+"/"+t,type:"PUT",success:function(e){if(console.log(e),"Deleted"==e)refresh();else{var t="<div id=dp"+e.id+"><button class='btn btn-warning btn-xs back' value="+e.id+"><i class='fa fa-undo'></i> Undo</button></div>";$("#dp"+e.id).replaceWith(t)}},error:function(e){console.log(url+"/"+t),console.log("Error:",e)}})}}),$("#district-list").on("click",".btn-delete",function(){var t=$(this).val();confirm("Are you Sure?")&&$.ajax({url:e+"/"+t,type:"DELETE",success:function(e){if(console.log(e),"Deleted"==e)refresh();else{var t="<div id=dp"+e.id+"><button class='btn btn-warning btn-xs back' value="+e.id+"><i class='fa fa-undo'></i> Undo</button></div>";$("#dp"+e.id).replaceWith(t)}},error:function(e){console.log(e)}})}),$("#district-list").on("click",".back",function(){var t=$(this).val();$(this).attr("id");confirm("Are you sure you want to proceed?")&&$.get(e+"/"+t+"/edit",function(e){console.log(e);var t="<div id=dp"+e.id+"><button class='btn btn-info btn-xs btn-view' value="+e.id+"><i class='fa fa-eye'></i> View</button> <button class='btn btn-success btn-xs btn-detail open-modal' value="+e.id+"><i class='fa fa-check'></i> Accept</button> <button class='btn btn-danger btn-xs btn-delete' value="+e.id+"><i class='fa fa-trash-o'></i> Decline</button></div>";$("#dp"+e.id).replaceWith(t)})});var e="/coordinator/achievements",t=$("#achievement-table").DataTable({processing:!0,serverSide:!0,columnDefs:[{width:"200px",targets:4},{width:"150px",targets:3}],ajax:{type:"POST",url:e,data:function(e){e.strUserFirstName=$("#strUserFirstName").val(),e.strUserMiddleName=$("#strUserMiddleName").val(),e.strUserLastName=$("#strUserLastName").val(),e.intDistID=$("#intDistID").val(),e.intCounID=$("#intCounID").val(),e.intBaraID=$("#intBaraID").val(),e.intBatcID=$("#intBatcID").val(),e.strPersStreet=$("#strPersStreet").val(),e.strPersReligion=$("#strPersReligion").val()}},columns:[{data:"strStudName",name:"strStudName"},{data:"description",name:"achievements.description"},{data:"place_held",name:"achievements.place_held"},{data:"date_held",name:"achievements.date_held"},{data:"action",name:"action",orderable:!1,searchable:!1}]});$("#btn-advSearch").on("click",function(e){t.draw(),e.preventDefault(),$("#frmAdv").trigger("reset"),$("#advanced_search").modal("hide")}),$("#advanced_search").on("hide.bs.modal",function(){$("#frmAdv").trigger("reset")}),$("#advsearch").click(function(){$("#advanced_search").modal("show")})});