$(document).ready(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});var a=$("#student-table").DataTable({processing:!0,serverSide:!0,order:[1,"desc"],columnDefs:[{width:"70px",targets:5},{width:"70px",targets:4},{width:"100px",targets:3}],ajax:{type:"POST",url:dataurl,data:function(a){a.strUserFirstName=$("#strUserFirstName").val(),a.strUserMiddleName=$("#strUserMiddleName").val(),a.strUserLastName=$("#strUserLastName").val(),a.intDistID=$("#intDistID").val(),a.intCounID=$("#intCounID").val(),a.intBaraID=$("#intBaraID").val(),a.intBatcID=$("#intBatcID").val(),a.strPersStreet=$("#strPersStreet").val(),a.strPersReligion=$("#strPersReligion").val()}},columns:[{data:"id",name:"users.id"},{data:"strStudName",name:"strStudName"},{data:"application_date",name:"student_details.application_date",searchable:!1},{data:"student_status",name:"student_details.student_status",searchable:!1},{data:"checkbox",name:"users.is_active",searchable:!1},{data:"action",name:"action",orderable:!1,searchable:!1}]});$("#student-list").on("change","#isActive",function(){var a=$(this).val();$.ajax({url:"/coordinator/list/checkbox/"+a,type:"PUT",success:function(a){Pace.restart(),"Deleted"==a&&refresh()},error:function(a){}})}),$("#student-list").on("change","#student_status",function(){var a=$(this).attr("selectedbox"),t=$(this),e={student_status:$(this).val()};$.ajax({url:dataurl+"/"+a,type:"PUT",data:e,dataType:"json",success:function(a){Pace.restart(),"Continuing"==a.student_status?t.attr("class","btn-xs btn-warning"):"Graduated"==a.student_status?t.attr("class","btn-xs btn-success"):t.attr("class","btn-xs btn-danger")},error:function(a){}})}),$("#btn-advSearch").on("click",function(t){a.draw(),t.preventDefault(),$("#frmAdv").trigger("reset"),$("#advanced_search").modal("hide")}),$("#advanced_search").on("hide.bs.modal",function(){$("#frmAdv").trigger("reset")}),$("#student-list").on("click",".open-modal",function(){var a=$(this).val();$.get("/coordinator/list/"+a,function(a){var t="Male";a.gender&&(t="Female");var e="<div class='row'><div class='col-sm-5'><div class='form-group'><label>Name:</label><br>"+a.strStudName+"</div><div class='form-group'><label>E-mail Address:</label><br>"+a.email+"</div><div class='form-group'><label>Contact Number:</label><br>"+a.cell_no+"</div><div class='form-group'><label>Gender:</label><br>"+t+"</div><div class='form-group'><label>Birthday:</label><br>"+a.date+"</div><div class='form-group'><label>Address:</label><br>"+a.house_no+" "+a.street+" "+a.barangay+" "+a.district+"</div></div><div class='col-sm-5'><div class='form-group'><label>Course:</label><br>"+a.course+"</div><div class='form-group'><label>Religion:</label><br>"+a.religion+"</div><div class='form-group'><label>School:</label><br>"+a.school+"</div></div><div class='col-sm-2'><img src='"+asset+"/"+a.picture+"' class='profile-user-img img-responsive img-square' alt='User Image'></div></div>";bootbox.alert({title:"Student Information",message:e,backdrop:!0,size:"large",buttons:{ok:{label:"Ok",className:"btn-success btn-md"}}})})}),$("#advsearch").click(function(){$("#advanced_search").modal("show")})});